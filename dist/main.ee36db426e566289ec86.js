(()=>{"use strict";const s=[{Backquote:{en:{caseDown:"`",caseUp:"~",caps:"`",shiftCaps:"~"},ru:{caseDown:"ё",caseUp:"Ё",caps:"Ё",shiftCaps:"ё"}},Digit1:{en:{caseDown:"1",caseUp:"!",caps:"1",shiftCaps:"!"},ru:{caseDown:"1",caseUp:"!",caps:"1",shiftCaps:"!"}},Digit2:{en:{caseDown:"2",caseUp:"@",caps:"2",shiftCaps:"@"},ru:{caseDown:"2",caseUp:'"',caps:"2",shiftCaps:'"'}},Digit3:{en:{caseDown:"3",caseUp:"#",caps:"3",shiftCaps:"#"},ru:{caseDown:"3",caseUp:"№",caps:"3",shiftCaps:"№"}},Digit4:{en:{caseDown:"4",caseUp:"$",caps:"4",shiftCaps:"$"},ru:{caseDown:"4",caseUp:";",caps:"4",shiftCaps:";"}},Digit5:{en:{caseDown:"5",caseUp:"%",caps:"5",shiftCaps:"%"},ru:{caseDown:"5",caseUp:"%",caps:"5",shiftCaps:"%"}},Digit6:{en:{caseDown:"6",caseUp:"^",caps:"6",shiftCaps:"^"},ru:{caseDown:"6",caseUp:":",caps:"6",shiftCaps:":"}},Digit7:{en:{caseDown:"7",caseUp:"&",caps:"7",shiftCaps:"&"},ru:{caseDown:"7",caseUp:"?",caps:"7",shiftCaps:"?"}},Digit8:{en:{caseDown:"8",caseUp:"*",caps:"8",shiftCaps:"*"},ru:{caseDown:"8",caseUp:"*",caps:"8",shiftCaps:"*"}},Digit9:{en:{caseDown:"9",caseUp:"(",caps:"9",shiftCaps:"("},ru:{caseDown:"9",caseUp:"(",caps:"9",shiftCaps:"("}},Digit0:{en:{caseDown:"0",caseUp:")",caps:"0",shiftCaps:")"},ru:{caseDown:"0",caseUp:")",caps:"0",shiftCaps:")"}},Minus:{en:{caseDown:"-",caseUp:"_",caps:"-",shiftCaps:"_"},ru:{caseDown:"-",caseUp:"_",caps:"-",shiftCaps:"_"}},Equal:{en:{caseDown:"=",caseUp:"+",caps:"=",shiftCaps:"+"},ru:{caseDown:"=",caseUp:"+",caps:"=",shiftCaps:"+"}},Backspace:{en:{caseDown:"Backspace",caseUp:"Backspace",caps:"Backspace",shiftCaps:"Backspace"},ru:{caseDown:"Backspace",caseUp:"Backspace",caps:"Backspace",shiftCaps:"Backspace"},colored:!0,isShow:!1}},{Tab:{en:{caseDown:"Tab",caseUp:"Tab",caps:"Tab",shiftCaps:"Tab"},ru:{caseDown:"Tab",caseUp:"Tab",caps:"Tab",shiftCaps:"Tab"},colored:!0,isShow:!1},KeyQ:{en:{caseDown:"q",caseUp:"Q",caps:"Q",shiftCaps:"q"},ru:{caseDown:"й",caseUp:"Й",caps:"Й",shiftCaps:"й"}},KeyW:{en:{caseDown:"w",caseUp:"W",caps:"W",shiftCaps:"w"},ru:{caseDown:"ц",caseUp:"Ц",caps:"Ц",shiftCaps:"ц"}},KeyE:{en:{caseDown:"e",caseUp:"E",caps:"E",shiftCaps:"e"},ru:{caseDown:"у",caseUp:"Y",caps:"Y",shiftCaps:"у"}},KeyR:{en:{caseDown:"r",caseUp:"R",caps:"R",shiftCaps:"r"},ru:{caseDown:"к",caseUp:"К",caps:"К",shiftCaps:"к"}},KeyT:{en:{caseDown:"t",caseUp:"T",caps:"T",shiftCaps:"t"},ru:{caseDown:"е",caseUp:"Е",caps:"Е",shiftCaps:"е"}},KeyY:{en:{caseDown:"y",caseUp:"Y",caps:"Y",shiftCaps:"y"},ru:{caseDown:"н",caseUp:"Н",caps:"Н",shiftCaps:"н"}},KeyU:{en:{caseDown:"u",caseUp:"U",caps:"U",shiftCaps:"u"},ru:{caseDown:"г",caseUp:"Г",caps:"Г",shiftCaps:"г"}},KeyI:{en:{caseDown:"i",caseUp:"I",caps:"I",shiftCaps:"i"},ru:{caseDown:"ш",caseUp:"Ш",caps:"Ш",shiftCaps:"ш"}},KeyO:{en:{caseDown:"o",caseUp:"O",caps:"O",shiftCaps:"o"},ru:{caseDown:"щ",caseUp:"Щ",caps:"Щ",shiftCaps:"щ"}},KeyP:{en:{caseDown:"p",caseUp:"P",caps:"P",shiftCaps:"p"},ru:{caseDown:"з",caseUp:"З",caps:"З",shiftCaps:"з"}},BracketLeft:{en:{caseDown:"[",caseUp:"{",caps:"[",shiftCaps:"{"},ru:{caseDown:"х",caseUp:"Х",caps:"Х",shiftCaps:"х"}},BracketRight:{en:{caseDown:"]",caseUp:"}",caps:"]",shiftCaps:"}"},ru:{caseDown:"ъ",caseUp:"Ъ",caps:"Ъ",shiftCaps:"ъ"}},Backslash:{en:{caseDown:"\\",caseUp:"|",caps:"\\",shiftCaps:"|"},ru:{caseDown:"\\",caseUp:"/",caps:"\\",shiftCaps:"/"}},Delete:{en:{caseDown:"Del",caseUp:"Del",caps:"Del",shiftCaps:"Del"},ru:{caseDown:"Del",caseUp:"Del",caps:"Del",shiftCaps:"Del"},colored:!0,isShow:!1}},{CapsLock:{en:{caseDown:"CapsLock",caseUp:"CapsLock",caps:"CapsLock",shiftCaps:"CapsLock"},ru:{caseDown:"CapsLock",caseUp:"CapsLock",caps:"CapsLock",shiftCaps:"CapsLock"},colored:!0,isShow:!1},KeyA:{en:{caseDown:"a",caseUp:"A",caps:"A",shiftCaps:"a"},ru:{caseDown:"ф",caseUp:"Ф",caps:"Ф",shiftCaps:"ф"}},KeyS:{en:{caseDown:"s",caseUp:"S",caps:"S",shiftCaps:"s"},ru:{caseDown:"ы",caseUp:"Ы",caps:"Ы",shiftCaps:"ы"}},KeyD:{en:{caseDown:"d",caseUp:"D",caps:"D",shiftCaps:"d"},ru:{caseDown:"в",caseUp:"В",caps:"В",shiftCaps:"в"}},KeyF:{en:{caseDown:"f",caseUp:"F",caps:"F",shiftCaps:"f"},ru:{caseDown:"а",caseUp:"А",caps:"А",shiftCaps:"а"}},KeyG:{en:{caseDown:"g",caseUp:"G",caps:"G",shiftCaps:"g"},ru:{caseDown:"п",caseUp:"П",caps:"П",shiftCaps:"п"}},KeyH:{en:{caseDown:"h",caseUp:"H",caps:"H",shiftCaps:"h"},ru:{caseDown:"р",caseUp:"Р",caps:"Р",shiftCaps:"р"}},KeyJ:{en:{caseDown:"j",caseUp:"J",caps:"J",shiftCaps:"j"},ru:{caseDown:"о",caseUp:"О",caps:"О",shiftCaps:"о"}},KeyK:{en:{caseDown:"k",caseUp:"K",caps:"K",shiftCaps:"k"},ru:{caseDown:"л",caseUp:"Л",caps:"Л",shiftCaps:"л"}},KeyL:{en:{caseDown:"l",caseUp:"L",caps:"L",shiftCaps:"l"},ru:{caseDown:"д",caseUp:"Д",caps:"Д",shiftCaps:"д"}},Semicolon:{en:{caseDown:";",caseUp:":",caps:";",shiftCaps:":"},ru:{caseDown:"ж",caseUp:"Ж",caps:"Ж",shiftCaps:"ж"}},Quote:{en:{caseDown:"'",caseUp:'"',caps:"'",shiftCaps:'"'},ru:{caseDown:"э",caseUp:"Э",caps:"Э",shiftCaps:"э"}},Enter:{en:{caseDown:"Enter",caseUp:"Enter",caps:"Enter",shiftCaps:"Enter"},ru:{caseDown:"Enter",caseUp:"Enter",caps:"Enter",shiftCaps:"Enter"},colored:!0,isShow:!1}},{ShiftLeft:{en:{caseDown:"Shift",caseUp:"Shift",caps:"Shift",shiftCaps:"Shift"},ru:{caseDown:"Shift",caseUp:"Shift",caps:"Shift",shiftCaps:"Shift"},colored:!0,isShow:!1},Backslash:{en:{caseDown:"\\",caseUp:"|",caps:"\\",shiftCaps:"|"},ru:{caseDown:"\\",caseUp:"/",caps:"\\",shiftCaps:"/"}},KeyZ:{en:{caseDown:"z",caseUp:"Z",caps:"Z",shiftCaps:"z"},ru:{caseDown:"я",caseUp:"Я",caps:"Я",shiftCaps:"я"}},KeyX:{en:{caseDown:"x",caseUp:"X",caps:"X",shiftCaps:"x"},ru:{caseDown:"ч",caseUp:"Ч",caps:"Ч",shiftCaps:"ч"}},KeyC:{en:{caseDown:"c",caseUp:"C",caps:"C",shiftCaps:"c"},ru:{caseDown:"с",caseUp:"С",caps:"С",shiftCaps:"с"}},KeyV:{en:{caseDown:"v",caseUp:"V",caps:"V",shiftCaps:"v"},ru:{caseDown:"м",caseUp:"М",caps:"М",shiftCaps:"м"}},KeyB:{en:{caseDown:"b",caseUp:"B",caps:"B",shiftCaps:"b"},ru:{caseDown:"и",caseUp:"И",caps:"И",shiftCaps:"и"}},KeyN:{en:{caseDown:"n",caseUp:"N",caps:"N",shiftCaps:"n"},ru:{caseDown:"т",caseUp:"Т",caps:"Т",shiftCaps:"т"}},KeyM:{en:{caseDown:"m",caseUp:"M",caps:"M",shiftCaps:"m"},ru:{caseDown:"ь",caseUp:"Ь",caps:"Ь",shiftCaps:"ь"}},Comma:{en:{caseDown:",",caseUp:"<",caps:",",shiftCaps:"<"},ru:{caseDown:"б",caseUp:"Б",caps:"Б",shiftCaps:"б"}},Period:{en:{caseDown:".",caseUp:">",caps:".",shiftCaps:">"},ru:{caseDown:"ю",caseUp:"Ю",caps:"Ю",shiftCaps:"ю"}},Slash:{en:{caseDown:"/",caseUp:"?",caps:"/",shiftCaps:"?"},ru:{caseDown:".",caseUp:",",caps:".",shiftCaps:","}},ArrowUp:{en:{caseDown:"↑",caseUp:"↑",caps:"↑",shiftCaps:"↑"},ru:{caseDown:"↑",caseUp:"↑",caps:"↑",shiftCaps:"↑"},colored:!0},ShiftRight:{en:{caseDown:"Shift",caseUp:"Shift",caps:"Shift",shiftCaps:"Shift"},ru:{caseDown:"Shift",caseUp:"Shift",caps:"Shift",shiftCaps:"Shift"},colored:!0,isShow:!1}},{ControlLeft:{en:{caseDown:"Ctrl",caseUp:"Ctrl",caps:"Ctrl",shiftCaps:"Ctrl"},ru:{caseDown:"Ctrl",caseUp:"Ctrl",caps:"Ctrl",shiftCaps:"Ctrl"},colored:!0,isShow:!1},MetaLeft:{en:{caseDown:"Win",caseUp:"Win",caps:"Win",shiftCaps:"Win"},ru:{caseDown:"Win",caseUp:"Win",caps:"Win",shiftCaps:"Win"},colored:!0,isShow:!1},AltLeft:{en:{caseDown:"Alt",caseUp:"Alt",caps:"Alt",shiftCaps:"Alt"},ru:{caseDown:"Alt",caseUp:"Alt",caps:"Alt",shiftCaps:"Alt"},colored:!0,isShow:!1},Space:{en:{caseDown:" ",caseUp:" ",caps:" ",shiftCaps:" "},ru:{caseDown:" ",caseUp:" ",caps:" ",shiftCaps:" "}},AltRight:{en:{caseDown:"Alt",caseUp:"Alt",caps:"Alt",shiftCaps:"Alt"},ru:{caseDown:"Alt",caseUp:"Alt",caps:"Alt",shiftCaps:"Alt"},colored:!0,isShow:!1},ControlRight:{en:{caseDown:"Ctrl",caseUp:"Ctrl",caps:"Ctrl",shiftCaps:"Ctrl"},ru:{caseDown:"Ctrl",caseUp:"Ctrl",caps:"Ctrl",shiftCaps:"Ctrl"},colored:!0,isShow:!1},ArrowLeft:{en:{caseDown:"←",caseUp:"←",caps:"←",shiftCaps:"←"},ru:{caseDown:"←",caseUp:"←",caps:"←",shiftCaps:"←"},colored:!0},ArrowDown:{en:{caseDown:"↓",caseUp:"↓",caps:"↓",shiftCaps:"↓"},ru:{caseDown:"↓",caseUp:"↓",caps:"↓",shiftCaps:"↓"},colored:!0},ArrowRight:{en:{caseDown:"→",caseUp:"→",caps:"→",shiftCaps:"→"},ru:{caseDown:"→",caseUp:"→",caps:"→",shiftCaps:"→"},colored:!0}}],e=(e,a)=>{const c=[];return s.forEach((s=>{const t=document.createElement("div");t.classList.add("keyboard__line"),Object.entries(s).forEach((s=>{let c=document.createElement("div");c.classList.add("keyboard__key"),c.classList.add(s[0]),s[1].colored&&c.classList.add("keyboard__colored"),c.textContent=s[1][e][a],!1===s[1].isShow?c.classList.add("control"):c.classList.add("btn-showed"),t.append(c)})),c.push(t)})),c};let a=localStorage.getItem("lang")||"en",c=!1,t=!1;const p=s=>{const e=document.createElement("p");return e.classList.add("specification__item"),e.textContent=s,e},n=s=>{const p=document.querySelector(".keyboard"),n=document.querySelectorAll(".keyboard__key"),o=document.querySelector(".textarea");o.focus(),s.ctrlKey&&s.altKey&&"keydown"===s.type&&(a="en"===a?"ru":"en",p.textContent="",p.append(...e(a,"caseDown"))),"Tab"===s.code&&s.preventDefault(),"Tab"===s.code&&"keyup"===s.type&&(o.value+="\t"),"CapsLock"===s.code&&"keyup"===s.type&&(c?(p.textContent="",p.append(...e(a,"caseDown"))):(p.textContent="",p.append(...e(a,"caps"))),c=!c),"ShiftLeft"===s.code&&"keydown"===s.type&&!1===s.repeat&&(c?c&&(t||(p.textContent="",p.append(...e(a,"shiftCaps")))):t||(p.textContent="",p.append(...e(a,"caseUp"))),t=!t),"ShiftLeft"===s.code&&"keyup"===s.type&&(t?(p.textContent="",p.append(...e(a,"caseDown"))):(p.textContent="",p.append(...e(a,"caseUp"))),!0===c&&(p.textContent="",p.append(...e(a,"caps"))),t=!t),n.forEach((e=>{e.classList.contains(s.code)&&"keydown"===s.type&&e.classList.add("keyboard__active"),e.classList.contains("keyboard__active")&&"keyup"===s.type&&setTimeout((()=>{e.classList.remove("keyboard__active")}),100)}))};window.addEventListener("beforeunload",(()=>localStorage.setItem("lang",a))),window.addEventListener("DOMContentLoaded",(()=>{const s=document.createElement("div");s.classList.add("container"),document.body.append(s),s.append((()=>{const s=document.createElement("h1");return s.classList.add("title"),s.textContent="RSS Virtual Keyboard",s})(),(()=>{const s=document.createElement("textarea");return s.classList.add("textarea"),s})(),(()=>{const s=document.createElement("div");return s.classList.add("keyboard"),s.append(...e(a,"caseDown")),s})(),(()=>{const s=document.createElement("div"),e=document.createElement("p");return s.classList.add("specification"),e.classList.add("specification__item"),s.append(p("The virtual keyboard was created in Windows")),s.append(p("For switching keyboard layout press left CTRL+ALT")),s})())})()),window.addEventListener("keydown",n),window.addEventListener("keyup",n),window.addEventListener("mouseup",(s=>{const p=document.querySelector(".textarea"),n=document.querySelector(".keyboard");let o=p.selectionStart;const i=(s,e)=>{if(p.selectionStart!==p.selectionEnd){let a=[...p.value];a.splice(p.selectionStart,p.selectionEnd-p.selectionStart,s),a=a.join(""),p.value=a,o+=e,p.setSelectionRange(o,o)}else{p.setSelectionRange(o,o);let a=[...p.value];a.splice(o,0,s),a=a.join(""),p.value=a,o+=e,p.setSelectionRange(o,o)}};if(s.target.classList.contains("Enter")&&i("\n",1),s.target.classList.contains("Tab")&&i("    ",4),s.target.classList.contains("Backspace"))if(p.selectionStart!==p.selectionEnd){let s=[...p.value];s.splice(p.selectionStart,p.selectionEnd-p.selectionStart),s=s.join(""),p.value=s,o-=1,p.setSelectionRange(o,o)}else{p.setSelectionRange(o,o);let s=[...p.value];s.splice(o-1,1),s=s.join(""),p.value=s,o-=1,p.setSelectionRange(o,o)}if(s.target.classList.contains("Delete"))if(p.selectionStart!==p.selectionEnd){let s=[...p.value];s.splice(p.selectionStart,p.selectionEnd-p.selectionStart),s=s.join(""),p.value=s,p.setSelectionRange(o,o)}else{p.setSelectionRange(o,o);let s=[...p.value];s.splice(o,1),s=s.join(""),p.value=s,p.setSelectionRange(o,o)}s.target.classList.contains("CapsLock")&&(c?(n.textContent="",n.append(...e(a,"caseDown"))):(n.textContent="",n.append(...e(a,"caps"))),c=!c),s.target.classList.contains("btn-showed")&&i(s.target.textContent,1),(s.target.classList.contains("ShiftLeft")||s.target.classList.contains("ShiftRight"))&&(c?c&&(t?t&&(n.textContent="",n.append(...e(a,"caps"))):(n.textContent="",n.append(...e(a,"shiftCaps")))):t?t&&(n.textContent="",n.append(...e(a,"caseDown"))):(n.textContent="",n.append(...e(a,"caseUp"))),t=!t)}))})();